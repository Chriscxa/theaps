<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B4-responsive-4column.SwipeTest</title>
  <!--<base target="_self">--><base href="." target="_self">
  <meta name="description" content="B4-responsive-4column.SwipeTest">
  <meta name="google" value="notranslate">
  <link rel="shortcut icon" href="">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css" rel="stylesheet">
  

  

  <style type="text/css">
  body {
  overflow-x: hidden;
}
  .swiper {
  --n: 1;
  display: flex;
 // align-items: center;
 // overflow-y: hidden;
  width: 100%;
  width: calc(var(--n)*100%);
 // height: 50vw;
  max-height: 100vh;
  transform: translate(calc(var(--i, 0)/var(--n)*-100%));
}

.container-fluid {
  width: 100%;
  width: calc(100%/var(--n));
//  user-select: none;
 // pointer-events: none;
}

.smooth {
  transition: transform calc(var(--f, 1)*.3s) cubic-bezier(0.35, 0.9, 1, 1);
}
  </style>

</head>
<body>
	<nav class="navbar navbar-expand navbar-light border-bottom">
		<div class="collapse navbar-collapse flex-column flex-lg-row align-items-start">
			<form class="form-inline w-100">
				<a class="nav-link pl-0 text-nowrap" href="#"><i class="fa fa-bullseye fa-fw"></i> <span class="font-weight-bold">Brand</span></a>
				<input class="form-control form-control-sm flex-fill" type="search" placeholder="Search" aria-label="Search">
			</form>
			<ul class="navbar-nav justify-content-lg-center justify-content-around w-100">
				<li class="nav-item">
					<a class="nav-link pl-0" href="#"><i class="fa fa-home fa-fw"></i> <span class="d-none d-md-inline">Feeds</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link pl-0" href="#"><i class="fa fa-users fa-fw"></i> <span class="d-none d-md-inline">Groups</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link pl-0" href="#"><i class="fa fa-bell fa-fw"></i> <span class="d-none d-md-inline">Notify</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link pl-0" href="#"><i class="fa fa-list fa-fw"></i> <span class="d-none d-md-inline">Link</span></a>
				</li>
			</ul>
		</div>
	</nav>
<div class="swiper">
	<div class="container-fluid --0">
		<div class="row">
			<div class="col-12 col-xl-10">
				<div class="row">
					<div class="col-2 col-xl-2 d-none d-lg-block">
					 one
					</div>
					<div class="col-12 col-md-7 col-lg-6 col-xl-6">
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
						<div class="card m-3">
						  <div class="card-header">
							Featured
						  </div>
						  <div class="card-body">
							<h5 class="card-title">Special title treatment</h5>
							<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
							<a href="#" class="btn btn-primary">Go somewhere</a>
						  </div>
						</div>
					</div>
					<div class="col-4 col-md-5 col-lg-4 d-none d-md-block">
						<div class="jumbotron jumbotron-fluid mt-3">
						  <div class="container">
							<h6>Fluid jumbotron</h6>
							<p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
						  </div>
						</div>
						<div class="jumbotron jumbotron-fluid mt-3">
						  <div class="container">
							<h6>Fluid jumbotron</h6>
							<p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
						  </div>
						</div>
					</div>
				</div>
			</div>
			<div class="col d-none d-xl-block bg-light">
				Chat
			</div>
		</div>
	</div>
	<div class="container-fluid --1">
		Groups
	</div>
	<div class="container-fluid --2">
		Notifications
	</div>
</div>
  
  <script>
		const _C = document.querySelector('.swiper'),
		N = _C.children.length,NF = 20;

		let i = 0,x0 = null,locked = false,w,ini,rID = null,fin = i;

		function stopAni() {
		  cancelAnimationFrame(rID);
		  rID = null;
		};

		function ani(cf = 0) {
		  _C.style.setProperty('--i', ini + (fin - ini) * cf / NF);

		  if (cf === NF) {
			stopAni();
			return;
		  }

		  rID = requestAnimationFrame(ani.bind(this, ++cf));
		};

		function unify(e) {return e.changedTouches ? e.changedTouches[0] : e;};

		function lock(e) {
		  x0 = unify(e).clientX;
		  locked = true;
		};

		function drag(e) {
		  e.preventDefault();

		  if (locked) {
			let dx = unify(e).clientX - x0,f = +(dx / w).toFixed(2);

			_C.style.setProperty('--i', i - f);
			console.log("drag started");
		  }
		};

		function move(e) {
		  if (locked) {
			let dx = unify(e).clientX - x0,
			s = Math.sign(dx),
			f = +(s * dx / w).toFixed(2);

			ini = i - s * f;

			if ((i > 0 || s < 0) && (i < N - 1 || s > 0) && f > .2) {
			  i -= s;
			  f = 1 - f;
				
				// evt test in drag()
				console.log("Animation fired swipe to end and page load/visible");
				console.log("Switched to: " + i + " from: " + (ini + (fin-ini)));
				target = _C.querySelector('.--'+i);
				start = ini + (fin-ini);
								pheight = window.pageYOffset;
				scrtarget = sessionStorage.getItem(target);
				if(!target.children.length){
					scrollTo(0,0);
					document.body.style.overflow = 'hidden'
					console.log("Content must loaded");
				}else {
					scrollTo(0,600);
					console.log("Content is loaded / Ajax: " + target.children.length);
					document.body.style.overflow = '';
				}
				
				//load scrollPosition from SessionStorage / view
				
				if (sessionStorage.getItem(start)) {
				  sessionStorage.getItem(start);
				} else {
					sessionStorage.setItem(start, pheight);
				}

				
			}

			fin = i;
			ani();
			x0 = null;
			locked = false;
			console.log("Reset after ani or break");
		  }
		};

		function size() {w = window.innerWidth;};

		size();
		_C.style.setProperty('--n', N);

		addEventListener('resize', size, false);

		_C.addEventListener('mousedown', lock, false);
		_C.addEventListener('touchstart', lock, false);

		_C.addEventListener('mousemove', drag, false);
		_C.addEventListener('touchmove', drag, false);

		_C.addEventListener('mouseup', move, false);
		_C.addEventListener('touchend', move, false);
  </script>
  
<script>
  console.log("complete dokumentHeight get via scrollHeight: " + document.body.scrollHeight);
  console.log("windowInnerHeight: " + document.documentElement.clientHeight);
  console.log("Scroll-Y-Position-From-Top: " + window.pageYOffset);
  
  let scrollHeight = Math.max(
  document.body.scrollHeight, document.documentElement.scrollHeight,
  document.body.offsetHeight, document.documentElement.offsetHeight,
  document.body.clientHeight, document.documentElement.clientHeight
); console.log("Scroll-Y-Position-From-Top supported all Browsers: " + scrollHeight);
	
</script>


</body></html>
